#!/usr/bin/env bash
FILES=(
  "https://blueoctopusdata-forecasting-bronze.s3.eu-west-2.amazonaws.com/gfs/netcdf/20251012/06/merged_forecasts/merged_f000_f005.nc?response-content-disposition=inline&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCWV1LXdlc3QtMiJHMEUCIGjowEKw7oxF9HdmEupJxu7emGPm4ScgB5BpSbqnWLXGAiEAndkggjajtgcbxo2iNNDzi2WBs1o6%2BkGmS8XyU%2FYCZqIquQMILRACGgwxNDUxNjU0NTEzMjgiDBgA5pQNfrxrsoxRIiqWA%2BBtiZktdqegSZYhf7gEjlawwyvK1HJNmtbLf4cNeQLZpkwjBRTvtYFu%2FAp%2Fu0f%2BvdUn2PB16LJ72BrzFD7khH%2FPTaarko0qYTowPrJtlGNcHt4YyLcvGn%2FXfbjwewHRkc1hRQzmh4tVIKaReUGNgbxNDAnPGQI2f6X7TK0jBHCuxyf0MVs37IeDMcjedGpcHPrznEeZer47brRNUBxXacDGfPOBTy1Uk6TSuynv4oYdJngccq0PqCtwABFNZXnTUzMvBbtyvU22553jqizxg%2BgkXZkM3ZHPGSRmXdiePZfhVJAJW3qMlM45OhrDKCL5of6IeD7B%2BhlW74SE9MmeT19zuWQDhPjZ7u3OyggHIoa%2BgZrZcJW1U%2F9U7e1dhqpoIvy9RZnV%2BOxIe4kVZnkowi4ox5hedbmMxTiFsAnAjAKJX00TCyjX9%2FJz7XUmYrOMzaQaeq2pEA31WWv4%2B%2BFr%2FjGlYCmks2yIQeH2duir7iaMnaZ26auXZ3ekXkLvT5T739utDdP66gCZtReSINUCahgOWSvKZ8owjZCuxwY63gK6%2F7ajkkpWeyF4YrcmSRCPsvnDje6DItV%2BD%2FxFi0Trh9B4TOoguEPJRukFdD1teHx7jU4KQ7HMYR18PxGVkNYT9wNGlfbfxps8nydmQkTOfGmwmiHjHb3Lt2F3saHN45TSYbzz%2FitG7WQnVKD5Tmd0g1PZsa3CudyZQCPEMeUXLV7kSiLTjybZl1o6tBc4B6SgWlhWU4Ns9lqfZYompnhl23b5UNIZn6KFVZUe9Q4EJ4SsE5FlLT5R7IPmRkdjZECyH2%2Bxus%2B%2Fx8%2FqiqF%2FGA4R0dE9STnz8w4hBhOd67lMGen17zSawtvuZ5m5zx3tVR93czzuAGCzIJOcTHDufxxYieoM5jbZN4vzRLpqxXioguO77SAbJl87I5yrW5BbUQPBOaonrpaWF96nf7zZayHzY%2FSK2Wuen1Xyyi%2FH9stcd%2FEdDzhORPYjrBwQf2fuQ1W9CdpwnCdL1YW%2FWEktGA%3D%3D&X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=ASIASDTEJABAMND46PWV%2F20251012%2Feu-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251012T115530Z&X-Amz-Expires=21600&X-Amz-SignedHeaders=host&X-Amz-Signature=38e46734d3e2120dd4d2fca51806f9018e32696169b363d38c2d68e7e4462318",
  "https://blueoctopusdata-forecasting-bronze.s3.eu-west-2.amazonaws.com/gfs/netcdf/20251012/06/merged_forecasts/merged_f001_f006.nc?response-content-disposition=inline&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCWV1LXdlc3QtMiJHMEUCIGjowEKw7oxF9HdmEupJxu7emGPm4ScgB5BpSbqnWLXGAiEAndkggjajtgcbxo2iNNDzi2WBs1o6%2BkGmS8XyU%2FYCZqIquQMILRACGgwxNDUxNjU0NTEzMjgiDBgA5pQNfrxrsoxRIiqWA%2BBtiZktdqegSZYhf7gEjlawwyvK1HJNmtbLf4cNeQLZpkwjBRTvtYFu%2FAp%2Fu0f%2BvdUn2PB16LJ72BrzFD7khH%2FPTaarko0qYTowPrJtlGNcHt4YyLcvGn%2FXfbjwewHRkc1hRQzmh4tVIKaReUGNgbxNDAnPGQI2f6X7TK0jBHCuxyf0MVs37IeDMcjedGpcHPrznEeZer47brRNUBxXacDGfPOBTy1Uk6TSuynv4oYdJngccq0PqCtwABFNZXnTUzMvBbtyvU22553jqizxg%2BgkXZkM3ZHPGSRmXdiePZfhVJAJW3qMlM45OhrDKCL5of6IeD7B%2BhlW74SE9MmeT19zuWQDhPjZ7u3OyggHIoa%2BgZrZcJW1U%2F9U7e1dhqpoIvy9RZnV%2BOxIe4kVZnkowi4ox5hedbmMxTiFsAnAjAKJX00TCyjX9%2FJz7XUmYrOMzaQaeq2pEA31WWv4%2B%2BFr%2FjGlYCmks2yIQeH2duir7iaMnaZ26auXZ3ekXkLvT5T739utDdP66gCZtReSINUCahgOWSvKZ8owjZCuxwY63gK6%2F7ajkkpWeyF4YrcmSRCPsvnDje6DItV%2BD%2FxFi0Trh9B4TOoguEPJRukFdD1teHx7jU4KQ7HMYR18PxGVkNYT9wNGlfbfxps8nydmQkTOfGmwmiHjHb3Lt2F3saHN45TSYbzz%2FitG7WQnVKD5Tmd0g1PZsa3CudyZQCPEMeUXLV7kSiLTjybZl1o6tBc4B6SgWlhWU4Ns9lqfZYompnhl23b5UNIZn6KFVZUe9Q4EJ4SsE5FlLT5R7IPmRkdjZECyH2%2Bxus%2B%2Fx8%2FqiqF%2FGA4R0dE9STnz8w4hBhOd67lMGen17zSawtvuZ5m5zx3tVR93czzuAGCzIJOcTHDufxxYieoM5jbZN4vzRLpqxXioguO77SAbJl87I5yrW5BbUQPBOaonrpaWF96nf7zZayHzY%2FSK2Wuen1Xyyi%2FH9stcd%2FEdDzhORPYjrBwQf2fuQ1W9CdpwnCdL1YW%2FWEktGA%3D%3D&X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=ASIASDTEJABAMND46PWV%2F20251012%2Feu-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251012T115605Z&X-Amz-Expires=21600&X-Amz-SignedHeaders=host&X-Amz-Signature=0258688d2a2aaccf04b63b886f0c63c109763774ef10c63a2faa0534e081a9db",
  "https://blueoctopusdata-forecasting-bronze.s3.eu-west-2.amazonaws.com/gfs/netcdf/20251012/06/merged_forecasts/merged_f002_f007.nc?response-content-disposition=inline&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCWV1LXdlc3QtMiJHMEUCIGjowEKw7oxF9HdmEupJxu7emGPm4ScgB5BpSbqnWLXGAiEAndkggjajtgcbxo2iNNDzi2WBs1o6%2BkGmS8XyU%2FYCZqIquQMILRACGgwxNDUxNjU0NTEzMjgiDBgA5pQNfrxrsoxRIiqWA%2BBtiZktdqegSZYhf7gEjlawwyvK1HJNmtbLf4cNeQLZpkwjBRTvtYFu%2FAp%2Fu0f%2BvdUn2PB16LJ72BrzFD7khH%2FPTaarko0qYTowPrJtlGNcHt4YyLcvGn%2FXfbjwewHRkc1hRQzmh4tVIKaReUGNgbxNDAnPGQI2f6X7TK0jBHCuxyf0MVs37IeDMcjedGpcHPrznEeZer47brRNUBxXacDGfPOBTy1Uk6TSuynv4oYdJngccq0PqCtwABFNZXnTUzMvBbtyvU22553jqizxg%2BgkXZkM3ZHPGSRmXdiePZfhVJAJW3qMlM45OhrDKCL5of6IeD7B%2BhlW74SE9MmeT19zuWQDhPjZ7u3OyggHIoa%2BgZrZcJW1U%2F9U7e1dhqpoIvy9RZnV%2BOxIe4kVZnkowi4ox5hedbmMxTiFsAnAjAKJX00TCyjX9%2FJz7XUmYrOMzaQaeq2pEA31WWv4%2B%2BFr%2FjGlYCmks2yIQeH2duir7iaMnaZ26auXZ3ekXkLvT5T739utDdP66gCZtReSINUCahgOWSvKZ8owjZCuxwY63gK6%2F7ajkkpWeyF4YrcmSRCPsvnDje6DItV%2BD%2FxFi0Trh9B4TOoguEPJRukFdD1teHx7jU4KQ7HMYR18PxGVkNYT9wNGlfbfxps8nydmQkTOfGmwmiHjHb3Lt2F3saHN45TSYbzz%2FitG7WQnVKD5Tmd0g1PZsa3CudyZQCPEMeUXLV7kSiLTjybZl1o6tBc4B6SgWlhWU4Ns9lqfZYompnhl23b5UNIZn6KFVZUe9Q4EJ4SsE5FlLT5R7IPmRkdjZECyH2%2Bxus%2B%2Fx8%2FqiqF%2FGA4R0dE9STnz8w4hBhOd67lMGen17zSawtvuZ5m5zx3tVR93czzuAGCzIJOcTHDufxxYieoM5jbZN4vzRLpqxXioguO77SAbJl87I5yrW5BbUQPBOaonrpaWF96nf7zZayHzY%2FSK2Wuen1Xyyi%2FH9stcd%2FEdDzhORPYjrBwQf2fuQ1W9CdpwnCdL1YW%2FWEktGA%3D%3D&X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=ASIASDTEJABAMND46PWV%2F20251012%2Feu-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251012T115626Z&X-Amz-Expires=21600&X-Amz-SignedHeaders=host&X-Amz-Signature=a25984e597ad8c94e99362fb04f2b8b9ea90cd23db2ff312d75ee7c01df49a37"
)

for url in "${FILES[@]}"; do
  echo "Downloading ${url}"
  
  # Extract just the filename (before query params)
  filename=$(basename "${url%%\?*}")
  
  # Download with proper quoting
  bash resilient_curl.sh "$url" "./data/$filename"
done
